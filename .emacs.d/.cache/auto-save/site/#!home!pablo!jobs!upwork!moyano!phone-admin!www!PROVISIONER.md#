# Autoloader and Provisioner

To load the Provisioner classes on CakePHP:

- copy Provisioner directory to vendor/

- add path to the vendor directory in composer.json

```
  "autoload": {
    "psr-4" { ...blabla...
    },
    "files": [
        "vendor/Provisioner/endpoint"
    ]
  }
```

- regenerate autoloader

```
composer dump-autoload
```

```
{
    "id": "72",
    "MacID": "0004f2a71ba0",
    "AccountID": "8",
    "Phonedata": [
        {
            "BrandModel.id": "3",
            "LocalPort": "pbx.host",
            "ExtensionNumber": "Jim",
            "registrations": "1",
            "DateTimeZone": "America/New_York",
            "FriendlyName": "SoundPoint IP 321",
            "Brand": "Polycom",
            "Family": "spipm",
            "Register": 0
        },
        {
            "Appearance": "",
            "ThirdPreferredAudioCodec": "Unspecified",
            "SecondPreferredAudioCodec": "Unspecified",
            "FirstPreferredAudioCodec": "G711u",
            "SIPRegistrationRetryTimer": "",
            "UDPKeepAliveInterval": "",
            "UDPKeepAliveEnable": "1",
            "RPortEnable": "1",
            "NatTraversal": "",
            "Transport": "UDP",
            "StunServerPort": "",
            "StunServer": "",
            "BackupOutboundPort": "",
            "BackupOutboundHost": "",
            "OutboundPort": "",
            "OutboundHost": "",
            "ServerExpires": "",
            "ServerPort": "",
            "ServerHost": "pbx.host",
            "Authname": "205",
            "Password": "1234",
            "Username": "205",
            "DisplayName": "Jim",
            "Register": "1"
        }
    ]
}
```


{
   "MacID" : "0004f2a71ba0",
   "AccountID" : "8",
   "id" : "72",
   "Phonedata" : [
      {
         "registrations" : "1",
         "BrandModel.id" : "3",
         "Family" : "spipm",
         "Brand" : "Polycom",
         "FriendlyName" : "SoundPoint IP 321",
         "DateTimeZone" : "America/New_York",
         "LocalPort" : "pbx.host",
         "Register" : 0,
         "ExtensionNumber" : "Jim"
      },
      {
         "StunServerPort" : "",
         "Username" : "205",
         "NatTraversal" : "",
         "OutboundPort" : "",
         "Transport" : "UDP",
         "SecondPreferredAudioCodec" : "Unspecified",
         "SIPRegistrationRetryTimer" : "",
         "ServerExpires" : "",
         "Register" : "1",
         "FirstPreferredAudioCodec" : "G711u",
         "StunServer" : "",
         "Appearance" : "",
         "DisplayName" : "Jim",
         "UDPKeepAliveEnable" : "1",
         "OutboundHost" : "",
         "Password" : "1234",
         "ThirdPreferredAudioCodec" : "Unspecified",
         "Authname" : "205",
         "BackupOutboundHost" : "",
         "ServerHost" : "pbx.host",
         "BackupOutboundPort" : "",
         "UDPKeepAliveInterval" : "",
         "ServerPort" : "",
         "RPortEnable" : "1"
      }
   ]
}

